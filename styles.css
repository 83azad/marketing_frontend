/* Global enhancements for query/refinement UI (used by App_query) */

/* Responsive helpers kept */
@media (max-width: 768px) {
  .card-body { padding: 1.5rem; }
  .row { flex-direction: column; }
  .col-md-6 { width: 100%; margin-bottom: 2rem; }
  .addnwbtn { width: 100%; margin-left: 0; margin-top: 10px; }
  textarea.form-control { min-height: 200px; }
  .chat-window { height: 300px; }
}

.text-dark { color: #343a40 !important; margin-bottom: 1.5rem; }
.input-group { margin-bottom: 1rem; }
.form-control { border-radius: 5px; border: 1px solid #ced4da; padding: 10px; font-size: 1rem; }
textarea.form-control { min-height: 400px; resize: vertical; }
.input-group input[type="text"] { border-radius: 5px 0 0 5px !important; }
.input-group button { border-radius: 0 5px 5px 0 !important; }

/* Query container */
.query-container { width: 100%; background: linear-gradient(135deg, #4e73df 0%, #8e2de2 100%); display: flex; justify-content: center; margin-top: 10px; animation: gradientShift 20s ease infinite; }
.query-full{ margin: 5px 18px; }

/* Card */
.query-card { width: 100%; max-width: 1200px; background: #fff; border-radius: 12px; box-shadow: 0 12px 40px rgba(2,6,23,.12); overflow: hidden; animation: fadeInUp .28s ease both; }

/* Layout */
.query-row { display: flex; flex-direction: row; flex-wrap: wrap; }
.query-left, .query-right { flex: 1 1 50%; padding: 20px; box-sizing: border-box; }

/* Headings */
.section-title { font-size: 16px; color: #111827; margin-top: 5px; letter-spacing: .2px; }

/* Textarea */
.query-textarea { width: 98%; min-height: 271px; font-size: 14px; border: 1px solid var(--border-color); border-radius: 8px; resize: vertical; padding: 10px; outline: none; transition: box-shadow .2s, border-color .2s; }
.query-textarea:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(37,99,235,.18); }

/* Button */
.button { padding: 10px 20px; background: var(--primary-color); color: #fff; border: none; border-radius: 10px; cursor: pointer; font-size: 14px; transition: transform .1s ease, box-shadow .2s ease, background-color .2s; box-shadow: 0 10px 24px rgba(37,99,235,.22); }
.button:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 14px 28px rgba(37,99,235,.28); }
.button:active:not(:disabled) { transform: translateY(0); box-shadow: 0 10px 20px rgba(37,99,235,.22); }
.button:disabled { background-color: #367bd433; cursor: not-allowed; box-shadow: none; }

/* Input row */
.input-group { display: flex; flex-direction: row-reverse; gap: 10px; margin-top: 10px; }
.input-group button{ width: 100%; }

/* Chat window */
.chat-window { max-height: 300px; overflow-y: auto; margin-top: 1rem; padding-right: 10px; scroll-behavior: smooth; border: 1px solid var(--border-color); background: #f9fafb; border-radius: 10px; box-shadow: inset 0 1px 2px rgba(0,0,0,.04); }

/* Chat messages */
.chat-message { margin-bottom: 1rem; display: flex; }
.chat-message-left { justify-content: flex-start; }
.chat-message-right { justify-content: flex-end; }
.chat-bubble { padding: 10px 15px; border-radius: 12px; max-width: 80%; word-wrap: break-word; font-size: 14px; box-shadow: 0 6px 18px rgba(2,6,23,.08); animation: bubbleIn .2s ease both; }
.bubble-user { background: linear-gradient(135deg, #60a5fa, #2563eb); color: white; }
.bubble-system { background: #ffffff; color: #111827; border: 1px solid var(--border-color); }
.chat-label { font-size: 12px; font-weight: 700; margin-bottom: 5px; color: #374151; }

/* Inline input group */
.inline-input-group { width: 100%; display: flex; gap: 10px; margin-bottom: 10px; flex-wrap: wrap; }
.inline-input-group input { flex: 1 1 auto; padding: 10px; font-size: 14px; border-radius: 8px; border: 1px solid var(--border-color); outline: none; transition: box-shadow .2s, border-color .2s; }
.inline-input-group input:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(37,99,235,.18); }

/* Animations */
@keyframes fadeInUp { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
@keyframes bubbleIn { from { opacity: 0; transform: translateY(3px) scale(.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes gradientShift { 0% { background-position: 0% 0%; } 50% { background-position: 50% 50%; } 100% { background-position: 0% 0%; } }

/* Responsive */
@media (max-width: 600px) {
  .query-row { flex-direction: column; }
  .query-left, .query-right { flex: 1 1 100%; padding: 15px; padding-top: 0; padding-bottom: 0; }
  .chat-bubble { max-width: 100%; }
  .input-group button { width: 100%; }
  .inline-input-group input, .inline-input-group button { width: 100%; }
  .query-textarea{ min-height: 150px; }
}